$(document).ready(function(){$("#getStandingsNext").click(function(){$.getJSON("/action/get-nominate-posts-next",{standingsKeyNextBI:standingsKeyNextBIHidden.value,standingsKeyNextUD:standingsKeyNextUDHidden.value},function(a){populateStandings(a)})});$("#getStandingsPrevious").click(function(){$.getJSON("/action/get-nominate-posts-previous",{standingsKeyPrevBI:standingsKeyPrevBIHidden.value,standingsKeyPrevUD:standingsKeyPrevUDHidden.value},function(a){populateStandings(a)})})});function markIneligible(f){var c=document.getElementById("markIneligible"+f).innerHTML;if(c=="Please wait..."){return false}else{document.getElementById("markIneligible"+f).innerHTML="Please wait..."}var e=document.getElementById("npid"+f).value;var d=document.getElementById("reason"+f).value.trim();$.post("/admin/contest-mark-ineligible",{postId:e,reason:d}).always(function(a){if(a=="SUCCESS"){document.getElementById("markIneligible"+f).innerHTML="Completed"}else{alert(a)}})}function populateStandings(a){$.each(a,function(d,f){switch(d){case"ERROR":alert(f);break;case"standingsList":var e=new Array(),b=-1;for(var c=0;c<f.length;c++){var g=parseInt(f[c].upVotes)-parseInt(f[c].downVotes);e[++b]='<div class="topChartsElement">';e[++b]='<div style="font-size:18px; font-weight:bold; padding:10px 10px 3px 30px">';e[++b]='<input type=hidden id="npid'+c+'" value="'+f[c].postId+'">';e[++b]='<input type=hidden id="nbid'+c+'" value="'+f[c].bloggerId+'">';e[++b]='<input type=hidden id="nptitle'+c+'" value="'+f[c].postTitle.replace(/"/g,"&#034;")+'">';e[++b]='<div style="padding:6px 0px 10px 0px">';if(f[c].nominated=="NULL"){e[++b]='<span style="margin-right:20px; font-size:14px">Current Status: Not Nominated</span>';e[++b]='<input id=nominateButton class="activeButton" onclick="nominate('+c+')" type="button" value="Nominate this Post">'}else{if(f[c].nominated==monthHidden.value){e[++b]='<span style="margin-right:20px; font-size:14px">Current Status: Nominated for '+monthHidden.value+"</span>";e[++b]='<input id=nominateButton class="activeButton" onclick="withdraw('+c+')" type="button" value="Withdraw this Post">'}else{if(f[c].nominated=="INELIGIBLE"){e[++b]='<span style="font-size:14px">Current Status: INELIGIBLE</span>'}else{e[++b]='<span style="font-size:14px">Current Status: Nominated for '+f[c].nominated+"</span>"}}}e[++b]="</div>";e[++b]='<div><a href="/post/'+f[c].postId+'">'+f[c].postTitle.replace(/"/g,"&#034;")+"</a></div></div>";e[++b]="<div style=\"padding:6px 10px 15px 30px; font-family:'Text Me One'; font-size:14px; color:#8A8C8E\">";e[++b]="<span><b>"+new Date(f[c].updateDate).toLocaleString()+"</b></span>";e[++b]='</div><div style="padding:0px 30px 0px 30px">';e[++b]='<a href="/post/'+f[c].postId+'"><div class="topChartsThumb" style="background-image:url(\''+f[c].postHeadshot+"')\"></div></a>";e[++b]="</div>";e[++b]='<div style="font-size:18px; font-weight:bold; padding:10px 10px 3px 30px"><a href="/post/'+f[c].postId+'">'+f[c].postTitle+"</a></div>";e[++b]='<div style="padding:3px 10px 3px 30px">'+f[c].postSummary+"</div>";e[++b]='<div style="font-size:12px; color:#909090; padding:3px 10px 6px 30px">';e[++b]="<span>"+f[c].views+" views</span>";e[++b]='<span style="font-weight:bold; color:rgb(144, 144, 144)">&nbsp;.&nbsp;</span>';e[++b]="<span>"+g+" votes</span>";e[++b]='<span style="font-weight:bold; color:rgb(144, 144, 144)">&nbsp;.&nbsp;</span>';e[++b]="<span>"+f[c].comments+" comments</span>";e[++b]="</div></div>"}$("#standingsDiv").html(e.join(""));document.getElementById("standingsHeader").scrollIntoView();window.scrollBy(0,-40);break;case"standingsKeyPrevBI":standingsKeyPrevBIHidden.value=f;if(f=="NULL"){$("#getStandingsPreviousDiv").css("visibility","hidden")}else{$("#getStandingsPreviousDiv").css("visibility","visible")}break;case"standingsKeyNextBI":standingsKeyNextBIHidden.value=f;if(f=="NULL"){$("#getStandingsNextDiv").css("visibility","hidden")}else{$("#getStandingsNextDiv").css("visibility","visible")}break;case"standingsKeyPrevUD":standingsKeyPrevUDHidden.value=f;break;case"standingsKeyNextUD":standingsKeyNextUDHidden.value=f;break}})};