$(document).ready(function(){$("#getTopChartsNext").click(function(){getTopChartsNext.innerHTML="WAIT...";$.getJSON("/action/get-top-charts-next",{generateTopChartsJobPeriod:generateTopChartsJobPeriodHidden.value,topChartsName:topChartsNameHidden.value,topChartsKeyNextId:topChartsKeyNextIdHidden.value,topChartsKeyNextHI:topChartsKeyNextHIHidden.value},function(a){populateTopCharts(a);getTopChartsNext.innerHTML="MORE";scroll(0,0)})});$("#getTopChartsPrevious").click(function(){getTopChartsPrevious.innerHTML="WAIT...";$.getJSON("/action/get-top-charts-previous",{generateTopChartsJobPeriod:generateTopChartsJobPeriodHidden.value,topChartsName:topChartsNameHidden.value,topChartsKeyPrevId:topChartsKeyPrevIdHidden.value,topChartsKeyPrevHI:topChartsKeyPrevHIHidden.value},function(a){populateTopCharts(a);getTopChartsPrevious.innerHTML="BACK";scroll(0,0)})})});function populateTopCharts(a){$.each(a,function(d,f){switch(d){case"ERROR":alert(f);break;case"topChartsList":var e=new Array(),b=-1;var g=topChartsNameHidden.value;if(g.indexOf("post")>-1){for(var c=0;c<f.length;c++){e[++b]='<div style="margin-top:6%; padding:3%; background-color:white">';e[++b]='<div style="font-size:1.3em; font-weight:bold">';e[++b]='<a href="/post/'+f[c].postId+'">'+f[c].postTitle+"</a></div>";e[++b]='<div style="text-align:center; margin-top:2%">';e[++b]='<a href="/post/'+f[c].postId+'"><img alt="'+f[c].postTitle+'" title="'+f[c].postTitle+'" style="width:90%" src="'+f[c].postHeadshot+'"></a></div>';e[++b]='<div style="font-size:1.2em; color:#909090; margin-top:2%">by <a href="/'+f[c].bloggerId+'">'+f[c].bloggerName+"</a></div>";e[++b]='<div style="font-size:1em; color:#909090; margin-top:2%">on '+new Date(f[c].updateDate).toLocaleString()+"</div>";e[++b]='<div style="font-size:1.2em; color:#909090; margin-top:2%">zone <a href="/zone/'+f[c].zoneId+'">'+f[c].zoneName.replace(/"/g,"&#034;")+"</a></div>";e[++b]='<div style="font-size:1.2em; margin-top:2%" >'+f[c].postSummary+"</div></div>"}}else{for(var c=0;c<f.length;c++){e[++b]='<div style="margin-top:6%; padding:3%; background-color:white">';e[++b]='<div style="font-size:1.3em; font-weight:bold">';e[++b]='<a href="/'+f[c].entityId+'">'+f[c].entityName+"</a>";e[++b]='</div><div style="text-align:center; margin-top:2%">';if(f[c].profilePhoto!=null&&f[c].profilePhoto!=undefined){if(f[c].profilePhoto.lastIndexOf("https://",0)===0){e[++b]='<a href="/'+f[c].entityId+'"><img alt="'+f[c].entityName+'" style="width:90%" src="'+f[c].profilePhoto+'"></a>'}else{if(g.indexOf("blogger")>-1){e[++b]='<a href="/'+f[c].entityId+'"><img alt="'+f[c].entityName+'" style="width:90%" src="/resources/images/def-blogger-photo.jpg"></a>'}else{e[++b]='<a href="/'+f[c].entityId+'"><img alt="'+f[c].entityName+'" style="width:90%" src="/resources/images/def-page-photo.jpg"></a>'}}}else{if(g.indexOf("blogger")>-1){e[++b]='<a href="/'+f[c].entityId+'"><img alt="'+f[c].entityName+'" style="width:90%" src="/resources/images/def-blogger-photo.jpg"></a>'}else{e[++b]='<a href="/'+f[c].entityId+'"><img alt="'+f[c].entityName+'" style="width:90%" src="/resources/images/def-page-photo.jpg"></a>'}}e[++b]='</div><div style="font-size:1.2em; margin-top:2%">'+f[c].about+"</div>";e[++b]='<div style="font-size:1.2em; color:#909090; margin-top:2%">';e[++b]="<span>"+f[c].posts+" posts</span>";e[++b]='<span style="font-weight:bold; color:rgb(144, 144, 144)">&nbsp;.&nbsp;</span>';e[++b]="<span>"+f[c].votes+" votes</span>";e[++b]='<span style="font-weight:bold; color:rgb(144, 144, 144)">&nbsp;.&nbsp;</span>';e[++b]="<span>"+f[c].comments+" comments</span>";e[++b]="</div></div>"}}$("#topChartsDiv").html(e.join(""));break;case"topChartsKeyPrevId":topChartsKeyPrevIdHidden.value=f;if(f=="NULL"){$("#getTopChartsPreviousDiv").css("visibility","hidden")}else{$("#getTopChartsPreviousDiv").css("visibility","visible")}break;case"topChartsKeyPrevHI":topChartsKeyPrevHIHidden.value=f;break;case"topChartsKeyNextId":topChartsKeyNextIdHidden.value=f;if(f=="NULL"){$("#getTopChartsNextDiv").css("visibility","hidden")}else{$("#getTopChartsNextDiv").css("visibility","visible")}break;case"topChartsKeyNextHI":topChartsKeyNextHIHidden.value=f;break}})};