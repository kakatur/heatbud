$(document).ready(function(){$("#getNominatePostsNext").click(function(){$.getJSON("/action/get-nominate-posts-next",{nominatePostsKeyNextBI:nominatePostsKeyNextBIHidden.value,nominatePostsKeyNextUD:nominatePostsKeyNextUDHidden.value},function(a){populateNominatePosts(a)})});$("#getNominatePostsPrevious").click(function(){$.getJSON("/action/get-nominate-posts-previous",{nominatePostsKeyPrevBI:nominatePostsKeyPrevBIHidden.value,nominatePostsKeyPrevUD:nominatePostsKeyPrevUDHidden.value},function(a){populateNominatePosts(a)})})});function nominate(c){var a=document.getElementById("nominateButton"+c).value;if(a=="Please wait..."){return false}else{document.getElementById("nominateButton"+c).value="Please wait..."}npid=document.getElementById("npid"+c).value;nbid=document.getElementById("nbid"+c).value;nptitle=document.getElementById("nptitle"+c).value;$.post("/user/contest-nominate-post",{postId:npid,bloggerId:nbid,postTitle:nptitle}).always(function(b){if(b=="SUCCESS"){document.getElementById("nominateStatus"+c).innerHTML="Current Status: Nominated for "+monthHidden.value;document.getElementById("nominateButton"+c).value="Withdraw this Post";document.getElementById("nominateButton"+c).onclick=function(){withdraw(c)}}else{alert(b)}})}function withdraw(c){var a=document.getElementById("nominateButton"+c).value;if(a=="Please wait..."){return false}else{document.getElementById("nominateButton"+c).value="Please wait..."}npid=document.getElementById("npid"+c).value;nbid=document.getElementById("nbid"+c).value;nptitle=document.getElementById("nptitle"+c).value;$.post("/user/contest-withdraw-post",{postId:npid,bloggerId:nbid,postTitle:nptitle}).always(function(b){if(b=="SUCCESS"){document.getElementById("nominateStatus"+c).innerHTML="Current Status: Not Nominated";document.getElementById("nominateButton"+c).value="Nominate this Post";document.getElementById("nominateButton"+c).onclick=function(){nominate(c)}}else{alert(b)}})}function populateNominatePosts(a){$.each(a,function(d,f){switch(d){case"ERROR":alert(f);break;case"nominatePostsList":var e=new Array(),b=-1;for(var c=0;c<f.length;c++){var g=parseInt(f[c].upVotes)-parseInt(f[c].downVotes);e[++b]='<input type=hidden id="npid'+c+'" value="'+f[c].postId+'">';e[++b]='<input type=hidden id="nbid'+c+'" value="'+f[c].bloggerId+'">';e[++b]='<input type=hidden id="nptitle'+c+'" value="'+f[c].postTitle.replace(/"/g,"&#034;")+'">';e[++b]='<div class="topChartsElement">';e[++b]='<div style="font-size:18px; font-weight:bold; padding:10px 10px 3px 30px">';e[++b]='<div style="padding:6px 0px 10px 0px">';if(f[c].nominated=="NULL"){e[++b]='<span id="nominateStatus'+c+'" style="margin-right:20px; font-size:14px">Current Status: Not Nominated</span>';e[++b]='<input id="nominateButton'+c+'" class="activeButton" onclick="nominate('+c+')" type="button" value="Nominate this Post">'}else{if(f[c].nominated==monthHidden.value){e[++b]='<span id="nominateStatus'+c+'" style="margin-right:20px; font-size:14px">Current Status: Nominated for '+monthHidden.value+"</span>";e[++b]='<input id="nominateButton'+c+'" class="activeButton" onclick="withdraw('+c+')" type="button" value="Withdraw this Post">'}else{if(f[c].nominated=="INELIGIBLE"){e[++b]='<span style="font-size:14px">Current Status: INELIGIBLE</span>'}else{e[++b]='<span style="font-size:14px">Current Status: Nominated for '+f[c].nominated+"</span>"}}}e[++b]="</div>";e[++b]='<div><a href="/post/'+f[c].postId+'">'+f[c].postTitle.replace(/"/g,"&#034;")+"</a></div></div>";e[++b]="<div style=\"padding:6px 10px 15px 30px; font-family:'Text Me One'; font-size:14px; color:#8A8C8E\">";e[++b]="<span><b>"+new Date(f[c].updateDate).toLocaleString()+"</b></span>";e[++b]='</div><div style="padding:0px 30px 0px 30px">';e[++b]='<a href="/post/'+f[c].postId+'"><div class="topChartsThumb" style="background-image:url(\''+f[c].postHeadshot+"')\"></div></a>";e[++b]="</div>";e[++b]='<div style="font-size:18px; font-weight:bold; padding:10px 10px 3px 30px"><a href="/post/'+f[c].postId+'">'+f[c].postTitle+"</a></div>";e[++b]='<div style="padding:3px 10px 3px 30px">'+f[c].postSummary+"</div>";e[++b]='<div style="font-size:12px; color:#909090; padding:3px 10px 6px 30px">';e[++b]="<span>"+f[c].views+" views</span>";e[++b]='<span style="font-weight:bold; color:rgb(144, 144, 144)">&nbsp;.&nbsp;</span>';e[++b]="<span>"+g+" votes</span>";e[++b]='<span style="font-weight:bold; color:rgb(144, 144, 144)">&nbsp;.&nbsp;</span>';e[++b]="<span>"+f[c].comments+" comments</span>";e[++b]="</div></div>"}$("#nominatePostsDiv").html(e.join(""));document.getElementById("nominatePostsHeader").scrollIntoView();window.scrollBy(0,-40);break;case"nominatePostsKeyPrevBI":nominatePostsKeyPrevBIHidden.value=f;if(f=="NULL"){$("#getNominatePostsPreviousDiv").css("visibility","hidden")}else{$("#getNominatePostsPreviousDiv").css("visibility","visible")}break;case"nominatePostsKeyNextBI":nominatePostsKeyNextBIHidden.value=f;if(f=="NULL"){$("#getNominatePostsNextDiv").css("visibility","hidden")}else{$("#getNominatePostsNextDiv").css("visibility","visible")}break;case"nominatePostsKeyPrevUD":nominatePostsKeyPrevUDHidden.value=f;break;case"nominatePostsKeyNextUD":nominatePostsKeyNextUDHidden.value=f;break}})};