$(document).ready(function(){$(".scroll").click(function(a){a.preventDefault();$("html,body").animate({scrollTop:$(this.hash).offset().top},1000)});$("#getTopChartsNext").click(function(){getTopChartsNext.innerHTML="WAIT...";$.getJSON("/action/get-top-charts-next",{generateTopChartsJobPeriod:generateTopChartsJobPeriodHidden.value,topChartsName:topChartsNameHidden.value,topChartsKeyNextId:topChartsKeyNextIdHidden.value,topChartsKeyNextHI:topChartsKeyNextHIHidden.value},function(a){populateTopCharts(a);getTopChartsNext.innerHTML="MORE";document.getElementById("topChartsDiv").scrollIntoView()})});$("#getTopChartsPrevious").click(function(){getTopChartsPrevious.innerHTML="WAIT...";$.getJSON("/action/get-top-charts-previous",{generateTopChartsJobPeriod:generateTopChartsJobPeriodHidden.value,topChartsName:topChartsNameHidden.value,topChartsKeyPrevId:topChartsKeyPrevIdHidden.value,topChartsKeyPrevHI:topChartsKeyPrevHIHidden.value},function(a){populateTopCharts(a);getTopChartsPrevious.innerHTML="BACK";document.getElementById("topChartsDiv").scrollIntoView()})})});function submitSearch(){if(document.getElementById("terms").value.trim().length>0){window.location.href="/search/post/"+document.getElementById("terms").value.trim()}}function switchChart(a){window.location.href="/top/"+a}function populateTopCharts(a){$.each(a,function(d,f){switch(d){case"ERROR":alert(f);break;case"topChartsList":var e=new Array(),b=-1;var g=topChartsNameHidden.value;if(g.indexOf("post")>-1){for(var c=0;c<f.length;c++){e[++b]='<div class="topChartsElement" style="float:left">';e[++b]='<div style="font-size:18px; font-weight:bold; padding:10px 20px">';e[++b]='<a href="/post/'+f[c].postId+'">'+f[c].postTitle+"</a></div>";e[++b]="<div onclick=\"location.href='/post/"+f[c].postId+'\'" class="topChartsThumb grow" style="margin:0 auto; background-image:url(\''+f[c].postHeadshot+"')\"></div>";e[++b]='<div style="font-size:15px; padding:10px 20px">';e[++b]='<span style="font-size:13px; color:rgb(144, 144, 144)"> By </span>';e[++b]='<span><a href="/'+f[c].bloggerId+'">'+f[c].bloggerName+"</a></span>";e[++b]='<span style="font-size:13px; color:rgb(144, 144, 144)"> Zone </span>';e[++b]='<span><a href="/zone/'+f[c].zoneId+'">'+f[c].zoneName.replace(/"/g,"&#034;")+"</a></span></div>";if(g.indexOf("just")>-1){e[++b]='<div style="padding:3px 20px; color:#8A8C8E">'+new Date(f[c].updateDate).toLocaleString()+"</div>"}e[++b]='<div style="padding:3px 20px">'+f[c].postSummary+'"</div>';e[++b]='<div style="padding:5px 20px"><img alt="Overall Heat Index" title="Overall Heat Index" style="width:14px; height:18px; border:none" src="/resources/images/favicon.ico"/>';e[++b]='<span title="Overall Heat Index" style="color:#7A7C7E; font-size:17px">'+prettyNumber(f[c].hi)+"</span>";if(g.indexOf("trending")>-1){if(parseInt(f[c].hiTrending)>=0){e[++b]='<span><img alt="This week\'s change" title="This week\'s change" style="width:8px; height:8px; border:none; margin-left:10px" src="/resources/images/trending-up.png"></span>';e[++b]='<span title="This week\'s change" style="color:#8A8C8E; font-size:10px">'+f[c].hiTrending+"</span>"}else{e[++b]='<span><img title="This week\'s change" alt="This week\'s change" style="width:8px; height:8px; border:none; margin-left:10px" src="/resources/images/trending-down.png"></span>';e[++b]='<span title="This week\'s change" style="color:#8A8C8E; font-size:10px">'+-(f[c].hiTrending)+"</span>"}}e[++b]="</div></div>";if(c%2==1){e[++b]='<div style="clear:both"></div>'}}}else{if(g.indexOf("zone")>-1){for(var c=0;c<f.length;c++){e[++b]='<div class="topChartsElement" style="float:left">';e[++b]='<div style="font-size:18px; font-weight:bold; padding:10px 20px">';e[++b]='<a href="/zone/'+f[c].zoneId+'">'+f[c].zoneName+"</a></div>";e[++b]="<div onclick=\"location.href='/zone/"+f[c].zoneId+'\'" class="topChartsThumb grow" style="margin:0 auto; background-image:url(\''+f[c].zoneHeadshot+"')\"></div>";e[++b]='<div style="padding:3px 20px">'+f[c].zoneDesc+"</div>";e[++b]='<div style="font-size:12px; color:#909090; padding:5px 20px">';e[++b]="<span>"+f[c].posts+" posts</span>";e[++b]='<span style="font-weight:bold; color:rgb(144, 144, 144)">&nbsp;.&nbsp;</span>';e[++b]="<span>"+f[c].comments+" comments</span>";e[++b]="</div></div>";if(c%2==1){e[++b]='<div style="clear:both"></div>'}}}else{for(var c=0;c<f.length;c++){e[++b]='<div class="topChartsElement" style="float:left">';e[++b]='<div style="font-size:18px; padding:10px 20px; font-weight:bold">';e[++b]='<a href="/'+f[c].entityId+'">'+f[c].entityName+"</a>";e[++b]="</div>";if(f[c].profilePhoto!=null&&f[c].profilePhoto!=undefined){if(f[c].profilePhoto.lastIndexOf("https://",0)===0){e[++b]="<div onclick=\"location.href='"+f[c].entityId+'\'" class="topChartsThumb grow" style="margin:0 auto; background-image:url(\''+f[c].profilePhoto+"')\"></div>"}else{if(g.indexOf("blogger")>-1){e[++b]="<div onclick=\"location.href='"+f[c].entityId+'\'" class="topChartsThumb grow" style="margin:0 auto; background-image:url(\'/resources/images/def-blogger-photo.jpg\')"></div>'}else{e[++b]="<div onclick=\"location.href='"+f[c].entityId+'\'" class="topChartsThumb grow" style="margin:0 auto; background-image:url(\'/resources/images/def-page-photo.jpg\')"></div>'}}}else{if(g.indexOf("blogger")>-1){e[++b]="<div onclick=\"location.href='"+f[c].entityId+'\'" class="topChartsThumb grow" style="margin:0 auto; background-image:url(\'/resources/images/def-blogger-photo.jpg\')"></div>'}else{e[++b]="<div onclick=\"location.href='"+f[c].entityId+'\'" class="topChartsThumb grow" style="margin:0 auto; background-image:url(\'/resources/images/def-page-photo.jpg\')"></div>'}}e[++b]='<div style="padding:3px 20px; white-space:pre-line">'+f[c].about+'</div><div style="padding:3px 20px">';e[++b]='<img alt="Overall Heat Index" title="Overall Heat Index" style="width:14px; height:18px; border:none" src="/resources/images/favicon.ico"/>';e[++b]='<span title="Overall Heat Index" style="color:#7A7C7E; font-size:17px">'+prettyNumber(f[c].hi)+"</span>";if(g.indexOf("trending")>-1){if(parseInt(f[c].hiTrending)>=0){e[++b]='<span><img alt="This week\'s change" title="This week\'s change" style="width:8px; height:8px; border:none; margin-left:10px" src="/resources/images/trending-up.png"></span>';e[++b]='<span title="This week\'s change" style="color:#8A8C8E; font-size:10px">'+f[c].hiTrending+"</span>"}else{e[++b]='<span><img alt="This week\'s change" title="This week\'s change" style="width:8px; height:8px; border:none; margin-left:10px" src="/resources/images/trending-down.png"></span>';e[++b]='<span title="This week\'s change" style="color:#8A8C8E; font-size:10px">'+-(f[c].hiTrending)+"</span>"}}e[++b]='</div><div style="font-size:12px; color:#909090; padding:5px 20px">';e[++b]="<span>"+f[c].posts+" posts</span>";e[++b]='<span style="font-weight:bold; color:rgb(144, 144, 144)">&nbsp;.&nbsp;</span>';e[++b]="<span>"+f[c].votes+" votes</span>";e[++b]='<span style="font-weight:bold; color:rgb(144, 144, 144)">&nbsp;.&nbsp;</span>';e[++b]="<span>"+f[c].comments+" comments</span>";e[++b]="</div></div>";if(c%2==1){e[++b]='<div style="clear:both"></div>'}}}}$("#topChartsDiv").html(e.join(""));break;case"topChartsKeyPrevId":topChartsKeyPrevIdHidden.value=f;if(f=="NULL"){$("#getTopChartsPreviousDiv").css("visibility","hidden")}else{$("#getTopChartsPreviousDiv").css("visibility","visible")}break;case"topChartsKeyPrevHI":topChartsKeyPrevHIHidden.value=f;break;case"topChartsKeyNextId":topChartsKeyNextIdHidden.value=f;if(f=="NULL"){$("#getTopChartsNextDiv").css("visibility","hidden")}else{$("#getTopChartsNextDiv").css("visibility","visible")}break;case"topChartsKeyNextHI":topChartsKeyNextHIHidden.value=f;break}})};